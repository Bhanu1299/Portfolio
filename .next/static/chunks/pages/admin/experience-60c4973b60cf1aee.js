(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{4753:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/experience",function(){return r(1458)}])},44:function(e,n,r){"use strict";r.d(n,{g:function(){return a}});var t=r(6042),i=r(9534),s=r(5893),o=r(7294),c=r(6269),a=o.forwardRef(function(e,n){var r=e.className,o=(0,i.Z)(e,["className"]);return(0,s.jsx)("textarea",(0,t.Z)({className:(0,c.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:n},o))});a.displayName="Textarea"},1458:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSP:function(){return m},default:function(){return j}});var t=r(7568),i=r(6042),s=r(9396),o=r(9815),c=r(7582),a=r(5893),l=r(7294),u=r(9383),d=r(4685),h=r(381),x=r(44),p=r(5147),f=r(9236),m=!0;function j(e){var n,r,m=e.initialExperience,j=(0,l.useState)(Array.isArray(m)?m:[]),g=j[0],v=j[1],b=(0,l.useState)(null),y=b[0],Z=b[1],N=(0,l.useState)({company:"",position:"",duration:"",description:"",technologies:[],location:"",current:!1}),_=N[0],w=N[1],C=(n=(0,t.Z)(function(e){var n,r,t,a,l;return(0,c.__generator)(this,function(c){switch(c.label){case 0:e.preventDefault(),n=y?"PUT":"POST",r=y?"/api/experience/".concat(y):"/api/experience",c.label=1;case 1:return c.trys.push([1,5,,6]),[4,fetch(r,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify((0,s.Z)((0,i.Z)({},_),{technologies:_.technologies.filter(function(e){return""!==e.trim()})}))})];case 2:if(!(t=c.sent()).ok)return[3,4];return[4,t.json()];case 3:a=c.sent(),y?v(g.map(function(e){return e._id===y?a:e})):v((0,o.Z)(g).concat([a])),S(),c.label=4;case 4:return[3,6];case 5:return l=c.sent(),console.error("Error saving experience:",l),[3,6];case 6:return[2]}})}),function(e){return n.apply(this,arguments)}),k=function(e){w(e),Z(e._id||null)},E=(r=(0,t.Z)(function(e){var n,r;return(0,c.__generator)(this,function(n){switch(n.label){case 0:if(!confirm("Are you sure you want to delete this experience?"))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,fetch("/api/experience/".concat(e),{method:"DELETE"})];case 2:return n.sent().ok&&v(g.filter(function(n){return n._id!==e})),[3,4];case 3:return r=n.sent(),console.error("Error deleting experience:",r),[3,4];case 4:return[2]}})}),function(e){return r.apply(this,arguments)}),S=function(){w({company:"",position:"",duration:"",description:"",technologies:[],location:"",current:!1}),Z(null)},A=function(e){w((0,s.Z)((0,i.Z)({},_),{technologies:e.split(",").map(function(e){return e.trim()})}))};return(0,a.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)(f.Uo,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Manage Experience"}),(0,a.jsx)(d.z,{onClick:function(){return window.location.href="/admin/dashboard"},children:"Back to Dashboard"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsx)(f.Uo,{children:(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[(0,a.jsx)(u.ll,{children:y?"Edit Experience":"Add New Experience"}),(0,a.jsx)(u.SZ,{children:y?"Update experience information":"Add a new work experience"})]}),(0,a.jsx)(u.aY,{children:(0,a.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"company",children:"Company"}),(0,a.jsx)(h.I,{id:"company",value:_.company,onChange:function(e){return w((0,s.Z)((0,i.Z)({},_),{company:e.target.value}))},required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"position",children:"Position"}),(0,a.jsx)(h.I,{id:"position",value:_.position,onChange:function(e){return w((0,s.Z)((0,i.Z)({},_),{position:e.target.value}))},required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"duration",children:"Duration"}),(0,a.jsx)(h.I,{id:"duration",value:_.duration,onChange:function(e){return w((0,s.Z)((0,i.Z)({},_),{duration:e.target.value}))},placeholder:"Jan 2020 - Present",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"location",children:"Location"}),(0,a.jsx)(h.I,{id:"location",value:_.location,onChange:function(e){return w((0,s.Z)((0,i.Z)({},_),{location:e.target.value}))},placeholder:"San Francisco, CA"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"description",children:"Description"}),(0,a.jsx)(x.g,{id:"description",value:_.description,onChange:function(e){return w((0,s.Z)((0,i.Z)({},_),{description:e.target.value}))},rows:4,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"technologies",children:"Technologies (comma-separated)"}),(0,a.jsx)(h.I,{id:"technologies",value:_.technologies.join(", "),onChange:function(e){return A(e.target.value)},placeholder:"React, TypeScript, Node.js"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"current",checked:_.current,onChange:function(e){return w((0,s.Z)((0,i.Z)({},_),{current:e.target.checked}))},className:"rounded"}),(0,a.jsx)(p._,{htmlFor:"current",children:"Current Position"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(d.z,{type:"submit",children:y?"Update Experience":"Add Experience"}),y&&(0,a.jsx)(d.z,{type:"button",variant:"outline",onClick:S,children:"Cancel"})]})]})})]})}),(0,a.jsx)(f.Uo,{children:(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[(0,a.jsx)(u.ll,{children:"Current Experience"}),(0,a.jsx)(u.SZ,{children:"Manage your work experience"})]}),(0,a.jsx)(u.aY,{children:(0,a.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:g.map(function(e){return(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:e.position}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.company})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(d.z,{size:"sm",variant:"outline",onClick:function(){return k(e)},children:"Edit"}),(0,a.jsx)(d.z,{size:"sm",variant:"destructive",onClick:function(){return E(e._id)},children:"Delete"})]})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:[e.duration," â€¢ ",e.location]}),(0,a.jsxs)("p",{className:"text-sm mb-2",children:[e.description.substring(0,100),"..."]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:e.technologies.map(function(e,n){return(0,a.jsx)("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded",children:e},n)})}),e.current&&(0,a.jsx)("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Current"})]},e._id)})})})]})})]})]})})}},943:function(e,n,r){"use strict";function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}r.d(n,{Z:function(){return t}})},3375:function(e,n,r){"use strict";function t(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(n,{Z:function(){return t}})},9815:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var t=r(943),i=r(3375),s=r(1566);function o(e){return function(e){if(Array.isArray(e))return(0,t.Z)(e)}(e)||(0,i.Z)(e)||(0,s.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1566:function(e,n,r){"use strict";r.d(n,{Z:function(){return i}});var t=r(943);function i(e,n){if(e){if("string"==typeof e)return(0,t.Z)(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return(0,t.Z)(e,n)}}}},function(e){e.O(0,[199,229,774,888,179],function(){return e(e.s=4753)}),_N_E=e.O()}]);