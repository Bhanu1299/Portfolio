(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{8419:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/projects",function(){return t(7986)}])},44:function(e,r,t){"use strict";t.d(r,{g:function(){return l}});var n=t(6042),i=t(9534),s=t(5893),o=t(7294),c=t(6269),l=o.forwardRef(function(e,r){var t=e.className,o=(0,i.Z)(e,["className"]);return(0,s.jsx)("textarea",(0,n.Z)({className:(0,c.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r},o))});l.displayName="Textarea"},7986:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSP:function(){return m},default:function(){return j}});var n=t(7568),i=t(6042),s=t(9396),o=t(9815),c=t(7582),l=t(5893),a=t(7294),u=t(9383),d=t(4685),h=t(381),f=t(44),p=t(5147),x=t(9236),m=!0;function j(e){var r,t,m=e.initialProjects,j=(0,a.useState)(Array.isArray(m)?m:[]),g=j[0],v=j[1],b=(0,a.useState)(null),y=b[0],Z=b[1],N=(0,a.useState)({title:"",description:"",technologies:[],githubUrl:"",liveUrl:"",imageUrl:"",featured:!1}),_=N[0],U=N[1],w=(r=(0,n.Z)(function(e){var r,t,n,l,a;return(0,c.__generator)(this,function(c){switch(c.label){case 0:e.preventDefault(),r=y?"PUT":"POST",t=y?"/api/projects/".concat(y):"/api/projects",c.label=1;case 1:return c.trys.push([1,5,,6]),[4,fetch(t,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify((0,s.Z)((0,i.Z)({},_),{technologies:_.technologies.filter(function(e){return""!==e.trim()})}))})];case 2:if(!(n=c.sent()).ok)return[3,4];return[4,n.json()];case 3:l=c.sent(),y?v(g.map(function(e){return e._id===y?l:e})):v((0,o.Z)(g).concat([l])),S(),c.label=4;case 4:return[3,6];case 5:return a=c.sent(),console.error("Error saving project:",a),[3,6];case 6:return[2]}})}),function(e){return r.apply(this,arguments)}),k=function(e){U(e),Z(e._id||null)},C=(t=(0,n.Z)(function(e){var r,t;return(0,c.__generator)(this,function(r){switch(r.label){case 0:if(!confirm("Are you sure you want to delete this project?"))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch("/api/projects/".concat(e),{method:"DELETE"})];case 2:return r.sent().ok&&v(g.filter(function(r){return r._id!==e})),[3,4];case 3:return t=r.sent(),console.error("Error deleting project:",t),[3,4];case 4:return[2]}})}),function(e){return t.apply(this,arguments)}),S=function(){U({title:"",description:"",technologies:[],githubUrl:"",liveUrl:"",imageUrl:"",featured:!1}),Z(null)},E=function(e){U((0,s.Z)((0,i.Z)({},_),{technologies:e.split(",").map(function(e){return e.trim()})}))};return(0,l.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,l.jsx)(x.Uo,{children:(0,l.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"Manage Projects"}),(0,l.jsx)(d.z,{onClick:function(){return window.location.href="/admin/dashboard"},children:"Back to Dashboard"})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,l.jsx)(x.Uo,{children:(0,l.jsxs)(u.Zb,{children:[(0,l.jsxs)(u.Ol,{children:[(0,l.jsx)(u.ll,{children:y?"Edit Project":"Add New Project"}),(0,l.jsx)(u.SZ,{children:y?"Update project information":"Create a new portfolio project"})]}),(0,l.jsx)(u.aY,{children:(0,l.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{htmlFor:"title",children:"Title"}),(0,l.jsx)(h.I,{id:"title",value:_.title,onChange:function(e){return U((0,s.Z)((0,i.Z)({},_),{title:e.target.value}))},required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{htmlFor:"description",children:"Description"}),(0,l.jsx)(f.g,{id:"description",value:_.description,onChange:function(e){return U((0,s.Z)((0,i.Z)({},_),{description:e.target.value}))},rows:4,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{htmlFor:"technologies",children:"Technologies (comma-separated)"}),(0,l.jsx)(h.I,{id:"technologies",value:_.technologies.join(", "),onChange:function(e){return E(e.target.value)},placeholder:"React, TypeScript, Node.js"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{htmlFor:"githubUrl",children:"GitHub URL"}),(0,l.jsx)(h.I,{id:"githubUrl",type:"url",value:_.githubUrl,onChange:function(e){return U((0,s.Z)((0,i.Z)({},_),{githubUrl:e.target.value}))}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{htmlFor:"liveUrl",children:"Live URL"}),(0,l.jsx)(h.I,{id:"liveUrl",type:"url",value:_.liveUrl,onChange:function(e){return U((0,s.Z)((0,i.Z)({},_),{liveUrl:e.target.value}))}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{htmlFor:"imageUrl",children:"Image URL"}),(0,l.jsx)(h.I,{id:"imageUrl",type:"url",value:_.imageUrl,onChange:function(e){return U((0,s.Z)((0,i.Z)({},_),{imageUrl:e.target.value}))}})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"featured",checked:_.featured,onChange:function(e){return U((0,s.Z)((0,i.Z)({},_),{featured:e.target.checked}))},className:"rounded"}),(0,l.jsx)(p._,{htmlFor:"featured",children:"Featured Project"})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)(d.z,{type:"submit",children:y?"Update Project":"Add Project"}),y&&(0,l.jsx)(d.z,{type:"button",variant:"outline",onClick:S,children:"Cancel"})]})]})})]})}),(0,l.jsx)(x.Uo,{children:(0,l.jsxs)(u.Zb,{children:[(0,l.jsxs)(u.Ol,{children:[(0,l.jsx)(u.ll,{children:"Current Projects"}),(0,l.jsx)(u.SZ,{children:"Manage your portfolio projects"})]}),(0,l.jsx)(u.aY,{children:(0,l.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:g.map(function(e){return(0,l.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,l.jsx)("h3",{className:"font-semibold",children:e.title}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)(d.z,{size:"sm",variant:"outline",onClick:function(){return k(e)},children:"Edit"}),(0,l.jsx)(d.z,{size:"sm",variant:"destructive",onClick:function(){return C(e._id)},children:"Delete"})]})]}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:[e.description.substring(0,100),"..."]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:e.technologies.map(function(e,r){return(0,l.jsx)("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded",children:e},r)})}),e.featured&&(0,l.jsx)("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Featured"})]},e._id)})})})]})})]})]})})}},943:function(e,r,t){"use strict";function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}t.d(r,{Z:function(){return n}})},3375:function(e,r,t){"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}t.d(r,{Z:function(){return n}})},9815:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(943),i=t(3375),s=t(1566);function o(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||(0,i.Z)(e)||(0,s.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1566:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var n=t(943);function i(e,r){if(e){if("string"==typeof e)return(0,n.Z)(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return(0,n.Z)(e,r)}}}},function(e){e.O(0,[199,229,774,888,179],function(){return e(e.s=8419)}),_N_E=e.O()}]);