(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{2219:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/contacts",function(){return r(8683)}])},9236:function(e,n,r){"use strict";r.d(n,{Uo:function(){return i},$m:function(){return u},v3:function(){return c},xH:function(){return d}});var t=r(6042),s=r(5893),a=r(8464),i=function(e){var n=e.children,r=e.delay,i=e.duration,c=e.direction,d=e.className;return(0,s.jsx)(a.E.div,{className:void 0===d?"":d,initial:(0,t.Z)({opacity:0},{up:{y:40,x:0},down:{y:-40,x:0},left:{y:0,x:40},right:{y:0,x:-40}}[void 0===c?"up":c]),animate:{opacity:1,x:0,y:0},transition:{duration:void 0===i?.6:i,delay:void 0===r?0:r,ease:[.25,.25,0,1]},children:n})},c=function(e){var n=e.children,r=e.staggerDelay,t=e.className;return(0,s.jsx)(a.E.div,{className:void 0===t?"":t,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:void 0===r?.1:r,delayChildren:.2}}},initial:"hidden",animate:"visible",children:n})},d=function(e){var n=e.children,r=e.className;return(0,s.jsx)(a.E.div,{className:void 0===r?"":r,variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},children:n})},o=r(6893),l=r(7294),u=function(e){var n=e.children,r=e.delay,i=e.duration,c=e.direction,d=void 0===c?"up":c,u=e.className,m=e.threshold,f=(0,l.useRef)(null),x=(0,o.Y)(f,{once:!0,amount:void 0===m?.1:m}),h={up:{y:60,x:0},down:{y:-60,x:0},left:{y:0,x:60},right:{y:0,x:-60}};return(0,s.jsx)(a.E.div,{ref:f,className:void 0===u?"":u,initial:(0,t.Z)({opacity:0},h[d]),animate:x?{opacity:1,x:0,y:0}:(0,t.Z)({opacity:0},h[d]),transition:{duration:void 0===i?.6:i,delay:void 0===r?0:r,ease:[.25,.25,0,1]},children:n})}},4685:function(e,n,r){"use strict";r.d(n,{z:function(){return d}});var t=r(6042),s=r(9534),a=r(5893),i=r(7294),c=r(6269),d=i.forwardRef(function(e,n){var r=e.className,i=e.variant,d=e.size,o=(0,s.Z)(e,["className","variant","size"]);return(0,a.jsx)("button",(0,t.Z)({className:(0,c.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[void 0===i?"default":i],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[void 0===d?"default":d],r),ref:n},o))});d.displayName="Button"},9383:function(e,n,r){"use strict";r.d(n,{Ol:function(){return o},SZ:function(){return u},Zb:function(){return d},aY:function(){return m},ll:function(){return l}});var t=r(6042),s=r(9534),a=r(5893),i=r(7294),c=r(6269),d=i.forwardRef(function(e,n){var r=e.className,i=(0,s.Z)(e,["className"]);return(0,a.jsx)("div",(0,t.Z)({ref:n,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r)},i))});d.displayName="Card";var o=i.forwardRef(function(e,n){var r=e.className,i=(0,s.Z)(e,["className"]);return(0,a.jsx)("div",(0,t.Z)({ref:n,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",r)},i))});o.displayName="CardHeader";var l=i.forwardRef(function(e,n){var r=e.className,i=(0,s.Z)(e,["className"]);return(0,a.jsx)("h3",(0,t.Z)({ref:n,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",r)},i))});l.displayName="CardTitle";var u=i.forwardRef(function(e,n){var r=e.className,i=(0,s.Z)(e,["className"]);return(0,a.jsx)("p",(0,t.Z)({ref:n,className:(0,c.cn)("text-sm text-muted-foreground",r)},i))});u.displayName="CardDescription";var m=i.forwardRef(function(e,n){var r=e.className,i=(0,s.Z)(e,["className"]);return(0,a.jsx)("div",(0,t.Z)({ref:n,className:(0,c.cn)("p-6 pt-0",r)},i))});m.displayName="CardContent",i.forwardRef(function(e,n){var r=e.className,i=(0,s.Z)(e,["className"]);return(0,a.jsx)("div",(0,t.Z)({ref:n,className:(0,c.cn)("flex items-center p-6 pt-0",r)},i))}).displayName="CardFooter"},6269:function(e,n,r){"use strict";r.d(n,{cn:function(){return a}});var t=r(512),s=r(8388);function a(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,s.m6)((0,t.W)(n))}},8683:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSP:function(){return m},default:function(){return f}});var t=r(7568),s=r(6042),a=r(9396),i=r(7582),c=r(5893),d=r(7294),o=r(9383),l=r(4685),u=r(9236),m=!0;function f(e){var n,r,m=e.initialContacts,f=(0,d.useState)(m),x=f[0],h=f[1],v=(0,d.useState)(null),p=v[0],g=v[1],j=(0,d.useState)("all"),N=j[0],y=j[1],b=(n=(0,t.Z)(function(e){var n,r;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch("/api/contacts/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({read:!0})})];case 1:return n.sent().ok&&(h(x.map(function(n){return n._id===e?(0,a.Z)((0,s.Z)({},n),{read:!0}):n})),p&&p._id===e&&g((0,a.Z)((0,s.Z)({},p),{read:!0}))),[3,3];case 2:return r=n.sent(),console.error("Error marking contact as read:",r),[3,3];case 3:return[2]}})}),function(e){return n.apply(this,arguments)}),w=(r=(0,t.Z)(function(e){var n,r;return(0,i.__generator)(this,function(n){switch(n.label){case 0:if(!confirm("Are you sure you want to delete this contact message?"))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,fetch("/api/contacts/".concat(e),{method:"DELETE"})];case 2:return n.sent().ok&&(h(x.filter(function(n){return n._id!==e})),p&&p._id===e&&g(null)),[3,4];case 3:return r=n.sent(),console.error("Error deleting contact:",r),[3,4];case 4:return[2]}})}),function(e){return r.apply(this,arguments)}),Z=x.filter(function(e){return"unread"===N?!e.read:"read"!==N||e.read}),_=x.filter(function(e){return!e.read}).length,k=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,c.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,c.jsx)(u.Uo,{children:(0,c.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-3xl font-bold",children:"Contact Messages"}),(0,c.jsxs)("p",{className:"text-muted-foreground mt-1",children:[_," unread message",1!==_?"s":""]})]}),(0,c.jsx)(l.z,{onClick:function(){return window.location.href="/admin/dashboard"},children:"Back to Dashboard"})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,c.jsx)("div",{className:"lg:col-span-1",children:(0,c.jsx)(u.Uo,{children:(0,c.jsxs)(o.Zb,{children:[(0,c.jsx)(o.Ol,{children:(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)(o.ll,{children:"Messages"}),(0,c.jsxs)("div",{className:"flex space-x-2",children:[(0,c.jsx)(l.z,{size:"sm",variant:"all"===N?"default":"outline",onClick:function(){return y("all")},children:"All"}),(0,c.jsxs)(l.z,{size:"sm",variant:"unread"===N?"default":"outline",onClick:function(){return y("unread")},children:["Unread (",_,")"]}),(0,c.jsx)(l.z,{size:"sm",variant:"read"===N?"default":"outline",onClick:function(){return y("read")},children:"Read"})]})]})}),(0,c.jsx)(o.aY,{children:(0,c.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[Z.map(function(e){return(0,c.jsxs)("div",{className:"p-3 border rounded-lg cursor-pointer transition-colors ".concat((null==p?void 0:p._id)===e._id?"bg-primary/10 border-primary":"hover:bg-muted/50"," ").concat(e.read?"":"border-l-4 border-l-primary"),onClick:function(){g(e),e.read||b(e._id)},children:[(0,c.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,c.jsx)("h3",{className:"font-medium text-sm ".concat(e.read?"":"font-bold"),children:e.name}),(0,c.jsx)("span",{className:"text-xs text-muted-foreground",children:k(e.createdAt)})]}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:e.email}),(0,c.jsx)("p",{className:"text-sm ".concat(e.read?"":"font-semibold"),children:e.subject}),(0,c.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[e.message.substring(0,50),"..."]})]},e._id)}),0===Z.length&&(0,c.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No messages found"})]})})]})})}),(0,c.jsx)("div",{className:"lg:col-span-2",children:(0,c.jsx)(u.Uo,{children:(0,c.jsxs)(o.Zb,{children:[(0,c.jsxs)(o.Ol,{children:[(0,c.jsx)(o.ll,{children:p?"Message Details":"Select a Message"}),p&&(0,c.jsxs)("div",{className:"flex space-x-2",children:[(0,c.jsx)(l.z,{size:"sm",variant:"outline",onClick:function(){return window.open("mailto:".concat(p.email,"?subject=Re: ").concat(p.subject))},children:"Reply via Email"}),(0,c.jsx)(l.z,{size:"sm",variant:"destructive",onClick:function(){return w(p._id)},children:"Delete"})]})]}),(0,c.jsx)(o.aY,{children:p?(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),(0,c.jsx)("p",{className:"font-medium",children:p.name})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),(0,c.jsx)("p",{className:"font-medium",children:p.email})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Subject"}),(0,c.jsx)("p",{className:"font-medium",children:p.subject})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Received"}),(0,c.jsx)("p",{className:"font-medium",children:k(p.createdAt)})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),(0,c.jsx)("p",{className:"font-medium",children:(0,c.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded ".concat(p.read?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:p.read?"Read":"Unread"})})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Message"}),(0,c.jsx)("div",{className:"mt-2 p-4 bg-muted/50 rounded-lg",children:(0,c.jsx)("p",{className:"whitespace-pre-wrap",children:p.message})})]})]}):(0,c.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:(0,c.jsx)("p",{children:"Select a message from the list to view details"})})})]})})})]})]})})}},7568:function(e,n,r){"use strict";function t(e,n,r,t,s,a,i){try{var c=e[a](i),d=c.value}catch(o){r(o);return}c.done?n(d):Promise.resolve(d).then(t,s)}function s(e){return function(){var n=this,r=arguments;return new Promise(function(s,a){var i=e.apply(n,r);function c(e){t(i,s,a,c,d,"next",e)}function d(e){t(i,s,a,c,d,"throw",e)}c(void 0)})}}r.d(n,{Z:function(){return s}})}},function(e){e.O(0,[199,774,888,179],function(){return e(e.s=2219)}),_N_E=e.O()}]);