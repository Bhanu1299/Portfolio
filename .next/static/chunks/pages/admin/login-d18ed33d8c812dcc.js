(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{6177:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return r(4720)}])},4720:function(e,s,r){"use strict";r.r(s),r.d(s,{__N_SSP:function(){return v},default:function(){return w}});var n=r(7568),a=r(4924),i=r(6042),l=r(9396),d=r(7582),t=r(5893),c=r(7294),u=r(3299),o=r(1163),m=r(9383),h=r(4685),p=r(381),x=r(5147),f=r(9236),v=!0;function w(){var e,s=(0,c.useState)({email:"",password:""}),r=s[0],v=s[1],w=(0,c.useState)(!1),b=w[0],_=w[1],g=(0,c.useState)(""),j=g[0],N=g[1],y=(0,o.useRouter)(),S=function(e){var s=e.target,r=s.name,n=s.value;v(function(e){return(0,l.Z)((0,i.Z)({},e),(0,a.Z)({},r,n))}),N("")},E=(e=(0,n.Z)(function(e){var s,n,a,i;return(0,d.__generator)(this,function(l){switch(l.label){case 0:e.preventDefault(),_(!0),N(""),l.label=1;case 1:return l.trys.push([1,6,7,8]),[4,(0,u.signIn)("credentials",{email:r.email,password:r.password,redirect:!1})];case 2:if(!(null==(s=l.sent())?void 0:s.error))return[3,3];return N("Invalid email or password"),[3,5];case 3:return[4,(0,u.getSession)()];case 4:(null==(i=l.sent())?void 0:null===(n=i.user)||void 0===n?void 0:n.isActive)&&(null==i?void 0:null===(a=i.user)||void 0===a?void 0:a.role)==="admin"?y.push("/admin/dashboard"):N("Access denied. Admin privileges required."),l.label=5;case 5:return[3,8];case 6:return l.sent(),N("An error occurred. Please try again."),[3,8];case 7:return _(!1),[7];case 8:return[2]}})}),function(s){return e.apply(this,arguments)});return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:(0,t.jsx)(f.Uo,{delay:.2,children:(0,t.jsxs)(m.Zb,{className:"w-full max-w-md",children:[(0,t.jsxs)(m.Ol,{className:"text-center",children:[(0,t.jsx)(m.ll,{className:"text-2xl font-bold",children:"Admin Login"}),(0,t.jsx)(m.SZ,{children:"Sign in to access the admin dashboard"})]}),(0,t.jsx)(m.aY,{children:(0,t.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{htmlFor:"email",children:"Email"}),(0,t.jsx)(p.I,{id:"email",name:"email",type:"email",value:r.email,onChange:S,required:!0,disabled:b,placeholder:"admin@example.com"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x._,{htmlFor:"password",children:"Password"}),(0,t.jsx)(p.I,{id:"password",name:"password",type:"password",value:r.password,onChange:S,required:!0,disabled:b,placeholder:"Enter your password"})]}),j&&(0,t.jsx)("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:j}),(0,t.jsx)(h.z,{type:"submit",className:"w-full",disabled:b,children:b?"Signing in...":"Sign In"})]})})]})})})}},1163:function(e,s,r){e.exports=r(387)}},function(e){e.O(0,[199,229,774,888,179],function(){return e(e.s=6177)}),_N_E=e.O()}]);